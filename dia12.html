<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nossa História ❤️</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
    <style>
        /* CSS - Estilo Visual do Site */

        /* :root define as variáveis de cor para facilitar a customização */
        :root {
            --bg-color: #fdf6f8; /* Fundo rosa bem claro */
            --container-bg: #ffffff;
            --primary-text: #3f3336; /* Texto principal com tom de marrom */
            --accent-color: #e57373; /* Cor de destaque (botões, títulos) */
            --accent-hover: #d32f2f; /* Cor ao passar o mouse */
            --border-color: #f1e4e8;
            --error-color: #c0392b; /* Cor da mensagem de erro */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: var(--bg-color);
            /* Efeito de fundo sutil com pequenos círculos, como corações ou estrelas distantes */
            background-image:
                radial-gradient(circle at 1px 1px, rgba(229, 115, 115, 0.1) 1px, transparent 0),
                radial-gradient(circle at 15px 15px, rgba(229, 115, 115, 0.1) 1px, transparent 0);
            background-size: 30px 30px;
            color: var(--primary-text);
            transition: background-color 0.5s;
        }

        .container {
            width: 90%;
            max-width: 450px;
            padding: 40px;
            background-color: var(--container-bg);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.07);
            text-align: center;
            overflow: hidden; /* Garante que o conteúdo não vaze durante as animações */
        }

        .question-wrapper {
            /* Transições para o efeito de fade-in/out */
            transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
        }

        .question-wrapper.hidden {
            opacity: 0;
            transform: translateY(20px);
            position: absolute; /* Remove do fluxo normal da página para não ocupar espaço */
            width: calc(100% - 80px); /* Ajusta a largura para caber no container */
            pointer-events: none; /* Desativa interação quando escondido */
        }

        h2 {
            font-family: 'Playfair Display', serif; /* Fonte elegante para títulos */
            font-size: clamp(1.8rem, 5vw, 2rem); /* Tamanho de fonte responsivo */
            margin-bottom: 20px;
            color: var(--accent-color);
        }

        p {
            font-size: clamp(1rem, 4vw, 1.1rem); /* Tamanho de fonte responsivo */
            line-height: 1.6;
            margin-bottom: 25px;
        }

        input, textarea {
            width: 100%;
            padding: 14px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            margin-bottom: 20px;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(229, 115, 115, 0.2);
        }
        
        textarea {
            resize: vertical; /* Permite redimensionar a caixa de texto verticalmente */
            min-height: 120px;
        }

        button {
            padding: 14px 40px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.2s;
        }

        button:hover {
            background-color: var(--accent-hover);
            transform: scale(1.05); /* Efeito de zoom sutil no botão */
        }

        .error-message {
            color: var(--error-color);
            font-weight: bold;
            height: 20px; /* Altura fixa para evitar que o layout "pule" ao exibir a mensagem */
            margin-top: -15px;
            margin-bottom: 15px;
            opacity: 0; /* Inicia transparente */
            transition: opacity 0.4s;
        }
        
        .error-message.visible {
            opacity: 1; /* Torna a mensagem visível */
        }
        
        #final-screen p {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 25px;
        }

        .qr-code {
            max-width: 150px;
            width: 100%;
            margin: 15px auto 10px;
            display: block;
            border-radius: 10px;
        }
        .special-link {
            display: block;
            margin-bottom: 30px;
            color: var(--accent-color);
            text-decoration: none;
            font-weight: bold;
            transition: color 0.3s;
        }
        .special-link:hover {
            color: var(--accent-hover);
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <div class="container" id="quiz-container">

        <!-- Pergunta 1 -->
        <div class="question-wrapper" id="q1">
            <h2>Nossa História</h2>
            <p>Em que ano da escola nos conhecemos?</p>
            <input type="text" id="a1" placeholder="Digite o ano aqui">
            <p class="error-message" id="error1"></p>
            <button onclick="verificarResposta(1)">Continuar</button>
        </div>

        <!-- Pergunta 2 -->
        <div class="question-wrapper hidden" id="q2">
            <h2>Trilha Sonora</h2>
            <p>Qual o nome da música que marcou a gente?</p>
            <input type="text" id="a2" placeholder="O nome da música">
            <p class="error-message" id="error2"></p>
            <button onclick="verificarResposta(2)">Continuar</button>
        </div>

        <!-- Pergunta 3 -->
        <div class="question-wrapper hidden" id="q3">
            <h2>O Grande Dia</h2>
            <p>Em que data você soube que eu te amava?</p>
            <input type="text" id="a3" placeholder="DD/MM/AAAA">
            <p class="error-message" id="error3"></p>
            <button onclick="verificarResposta(3)">Continuar</button>
        </div>

        <!-- Pergunta 4 -->
        <div class="question-wrapper hidden" id="q4">
            <h2>Nossa Aventura</h2>
            <p>Qual foi o local da nossa primeira viagem juntos?</p>
            <input type="text" id="a4" placeholder="O nome do lugar">
            <p class="error-message" id="error4"></p>
            <button onclick="verificarResposta(4)">Continuar</button>
        </div>
        
        <!-- Pergunta 5 (Livre) -->
        <div class="question-wrapper hidden" id="q5">
            <h2>Sua Memória</h2>
            <p>Me conta um momento feliz entre nós dois:</p>
            <textarea id="a5" placeholder="Pode escrever o quanto quiser..."></textarea>
             <p class="error-message" id="error5"></p>
            <button onclick="verificarResposta(5)">Finalizar</button>
        </div>
        
        <!-- Tela Final -->
        <div class="question-wrapper hidden" id="final-screen">
            <h2>Parabéns, meu amor ❤️</h2>
            <p>Isso foi algo que preparei para você viajar por momentos importantes no nosso relacionamento para relembrar e poder sentir que estou pertinho de você. Espero que tenha gostado! Te amo mais do que palavras podem dizer!</p>
            
            <!-- QR Code e Link Adicionados -->
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQoAAAEKCAYAAACCoM15AAAFjUlEQVR4nO3dQY7jNhBAQe/E/sfujf/lhMBoCAgr6L6skGQDlDyl9/l9/fqBAgECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAIH/I3B+v37+5k3nCBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBC47wJ8fRMCBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBC47wL/bQc+x4G8z/m9mgAAAABJRU5ErkJggg==" alt="QR Code para uma surpresa" class="qr-code">
            <a href="https://memoryiit.com/0bebed8d-PARABÉNS-MEU-AMOR" target="_blank" class="special-link">Ou clique aqui para ver a surpresa!</a>
            
            <button onclick="recomecar()">Recomeçar</button>
        </div>
    </div>

    <script>
        // JavaScript - Lógica Interativa do Quiz

        // !!! IMPORTANTE: EDITE AS RESPOSTAS CORRETAS AQUI !!!
        const respostasCorretas = {
            1: "Quinto ano",
            2: "Julieta",
            3: "24/07/2021",
            4: "Niterói"
        };
        
        // Função para normalizar strings (remove acentos, espaços e deixa minúscula)
        // Isso torna a comparação flexível (ex: "Paraty" é igual a "paraty")
        const normalizar = (str) => {
            if (typeof str !== 'string') return '';
            return str.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        }

        function verificarResposta(numPergunta) {
            const respostaInput = document.getElementById(`a${numPergunta}`);
            const respostaUsuario = respostaInput.value;
            const erroEl = document.getElementById(`error${numPergunta}`);

            // Verifica se o campo está vazio (exceto para a pergunta 5)
            if (!respostaUsuario && numPergunta !== 5) {
                erroEl.textContent = "Por favor, digite uma resposta.";
                erroEl.classList.add('visible');
                return;
            }

            const respostaCorreta = respostasCorretas[numPergunta];
            // A pergunta 5 é livre, então sempre é considerada correta se não estiver vazia
            const eCorreta = numPergunta === 5 || normalizar(respostaUsuario) === normalizar(respostaCorreta);

            if (eCorreta) {
                erroEl.classList.remove('visible'); // Esconde mensagem de erro
                transicaoProximaPergunta(numPergunta);
            } else {
                erroEl.textContent = "Resposta errada. Tente de novo! 😉";
                erroEl.classList.add('visible');
                animarErro(respostaInput); // Animação de "tremor" no campo
            }
        }

        function transicaoProximaPergunta(numAtual) {
            const container = document.getElementById('quiz-container');
            const atualEl = document.getElementById(`q${numAtual}`);
            const proximoNum = numAtual + 1;
            // Define o próximo elemento: a próxima pergunta ou a tela final
            const proximoEl = (proximoNum <= 5) ? document.getElementById(`q${proximoNum}`) : document.getElementById('final-screen');

            // Inicia o fade-out da pergunta atual
            atualEl.classList.add('hidden');
            
            // Espera a animação de fade-out terminar
            setTimeout(() => {
                atualEl.style.display = 'none'; // Esconde de fato o elemento do layout
                if (proximoEl) {
                    proximoEl.style.display = 'block'; // Mostra o próximo
                    // Força um pequeno reflow para a animação de fade-in funcionar corretamente
                    requestAnimationFrame(() => {
                         proximoEl.classList.remove('hidden');
                    });
                }
            }, 600); // O tempo deve ser igual ao da transição do CSS
        }
        
        function recomecar() {
            const telaFinal = document.getElementById('final-screen');
            telaFinal.classList.add('hidden');

            // Limpa todos os campos de input e mensagens de erro
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`a${i}`).value = '';
                const erroEl = document.getElementById(`error${i}`);
                if (erroEl) erroEl.classList.remove('visible');
            }

            setTimeout(() => {
                telaFinal.style.display = 'none';

                // Garante que todas as perguntas (exceto a primeira) estejam escondidas
                for (let i = 2; i <= 5; i++) {
                    const qEl = document.getElementById(`q${i}`);
                    qEl.style.display = 'none';
                    qEl.classList.add('hidden');
                }

                // Mostra a primeira pergunta novamente
                const primeiraPergunta = document.getElementById('q1');
                primeiraPergunta.style.display = 'block';
                 requestAnimationFrame(() => {
                    primeiraPergunta.classList.remove('hidden');
                 });
            }, 600);
        }

        // Animação de "tremor" para feedback de erro
        function animarErro(elemento) {
            elemento.style.animation = 'shake 0.5s';
            // Remove a animação para que possa ser reativada
            setTimeout(() => {
                elemento.style.animation = '';
            }, 500);
        }

        // Adiciona a animação de "shake" dinamicamente ao CSS
        const styleSheet = document.createElement("style");
        styleSheet.innerText = `
            @keyframes shake {
                10%, 90% { transform: translateX(-1px); }
                20%, 80% { transform: translateX(2px); }
                30%, 50%, 70% { transform: translateX(-4px); }
                40%, 60% { transform: translateX(4px); }
            }
        `;
        document.head.appendChild(styleSheet);
        
        // Adiciona evento 'Enter' para avançar
        for (let i = 1; i <= 5; i++) {
            document.getElementById(`a${i}`).addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    // Impede a submissão de formulário padrão e aciona o clique do botão
                    e.preventDefault();
                    document.querySelector(`#q${i} button`).click();
                }
            });
        }
    </script>

</body>
</html>